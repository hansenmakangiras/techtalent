<nav class="navbar navbar-default navbar-custom" ng-controller="HeaderController">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <a ui-sref="home" class="navbar-brand">Tech Talent Asia</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" collapse="!isCollapsed" role="navigation" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav" ng-if="menu.shouldRender(authentication.user);">
                <li ng-repeat="item in menu.items | orderBy: 'position'"
                    ng-if="item.shouldRender(authentication.user);" ng-switch="item.type"
                    ng-class="{ active: $state.includes(item.state), dropdown: item.type === 'dropdown' }"
                    class="{{item.class}}" dropdown="item.type === 'dropdown'">
                    <a ng-switch-when="dropdown" class="dropdown-toggle" dropdown-toggle role="button">{{::item.title}}&nbsp;<span
                            class="caret"></span></a>
                    <ul ng-switch-when="dropdown" class="dropdown-menu">
                        <li ng-repeat="subitem in item.items | orderBy: 'position'"
                            ng-if="subitem.shouldRender(authentication.user);" ui-sref-active="active">
                            <a ui-sref="{{subitem.state}}" ng-bind="subitem.title"></a>
                        </li>
                    </ul>
                    <a ng-switch-default ui-sref="{{item.state}}" ng-bind="item.title"></a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right" ng-show="authentication.user">
                <li ui-sref-active="active">
                    <a ui-sref="authentication.signup" class="navbar-signup" data-toggle="modal" data-target="#modalRegister">Sign Up</a>
                </li>
                <li class="divider-vertical"></li>
                <li ui-sref-active="active">
                    <a ui-sref="authentication.signin">Sign In</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right" ng-hide="authentication.user">
                <li class="dropdown" dropdown>
                    <a class="wrapper-user dropdown-toggle user-header-dropdown-toggle" dropdown-toggle role="button">
                        <img ng-src="{{authentication.user.profileImageURL}}"
                             alt="{{authentication.user.displayName}}" class="user-picture"/>
                        <span ng-bind="authentication.user.displayName"></span> <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                        <li ui-sref-active="active">
                            <a ui-sref="settings.profile">Edit Profile</a>
                        </li>
                        <li ui-sref-active="active">
                            <a ui-sref="settings.picture">Change Profile Picture</a>
                        </li>
                        <li ui-sref-active="active" ng-show="authentication.user.provider === 'local'">
                            <a ui-sref="settings.password">Change Password</a>
                        </li>
                        <li ui-sref-active="active">
                            <a ui-sref="settings.accounts">Manage Social Accounts</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="/api/auth/signout" target="_self">Sign Out</a>
                        </li>
                    </ul>
                </li>
            </ul>

        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

